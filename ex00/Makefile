#################################################################################################################
#                                           VARIABLES SET                                                       #
#################################################################################################################
NAME = megaphone

CXX = c++
CXXFLAGS = -Wall -Wextra -Werror -std=c++98 -g

SRCS = megaphone.cpp

OBJS = ${addprefix ${OBJ_DIR}/,${SRCS:.cpp=.o}}
OBJ_DIR = objets/
#################################################################################################################
#                                           RULES COMPILATION                                                   #
#################################################################################################################
all: ${NAME}

${NAME}: ${OBJS}
	${CXX} ${CXXFLAGS} ${OBJS} -o ${NAME}

${OBJ_DIR}/%.o: %.cpp
	@mkdir -p ${OBJ_DIR}
	${CXX} ${CXXFLAGS} -c $< -o $@

#################################################################################################################
#                                           RULES CLEAN                                                         #
#################################################################################################################
clean:
	rm -rf ${OBJ_DIR}/ ${OBJS}

fclean: clean
	rm -rf ${NAME}

re: fclean all
#################################################################################################################
#                                           NO RELINK                                                           #
#################################################################################################################

.PHONY: all clean fclean re